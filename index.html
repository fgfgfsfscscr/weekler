<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app">
        <header class="header">
            <h1>üìÖ –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</h1>
            <div class="stats">
                <div class="stats-bar">
                    <div class="stats-fill" id="stats-fill"></div>
                </div>
                <span id="stats-text">0/0</span>
            </div>
        </header>

        <nav class="nav-tabs">
            <button class="nav-tab active" data-view="tasks">üìã –ù–µ–¥–µ–ª—è</button>
            <button class="nav-tab" data-view="calendar">üìÜ –î–∞—Ç–∞</button>
            <button class="nav-tab" data-view="repeats">üîÑ –ü–æ–≤—Ç–æ—Ä—ã</button>
        </nav>

        <div class="view active" id="view-tasks">
            <div class="tabs" id="tabs">
                <button class="tab" data-day="0">–ü–Ω</button>
                <button class="tab" data-day="1">–í—Ç</button>
                <button class="tab" data-day="2">–°—Ä</button>
                <button class="tab" data-day="3">–ß—Ç</button>
                <button class="tab" data-day="4">–ü—Ç</button>
                <button class="tab" data-day="5">–°–±</button>
                <button class="tab" data-day="6">–í—Å</button>
            </div>

            <div class="day-header">
                <h2 id="day-title">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</h2>
                <button class="btn-icon" id="btn-clear-day">üóë</button>
            </div>

            <div class="tasks-container">
                <div class="tasks-list" id="tasks-list"></div>
                <div class="empty-state" id="empty-state">
                    <div class="empty-icon">üì≠</div>
                    <p>–ó–∞–¥–∞—á –Ω–µ—Ç</p>
                    <span>–ù–∞–∂–º–∏—Ç–µ + —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å</span>
                </div>
            </div>
        </div>

        <div class="view" id="view-calendar">
            <div class="calendar-header">
                <input type="date" id="calendar-date" class="date-picker">
            </div>
            
            <div class="day-header">
                <h2 id="calendar-title">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É</h2>
                <button class="btn-icon" id="btn-clear-date">üóë</button>
            </div>

            <div class="tasks-container">
                <div class="tasks-list" id="calendar-tasks-list"></div>
                <div class="empty-state" id="empty-calendar">
                    <div class="empty-icon">üìÜ</div>
                    <p>–ó–∞–¥–∞—á –Ω–µ—Ç</p>
                    <span>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –∏ –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–¥–∞—á—É</span>
                </div>
            </div>
        </div>

        <div class="view" id="view-repeats">
            <div class="section-header">
                <h2>üîÑ –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–¥–∞—á–∏</h2>
            </div>
            <div class="repeats-container">
                <div class="repeats-list" id="repeats-list"></div>
                <div class="empty-state" id="empty-repeats">
                    <div class="empty-icon">üîÑ</div>
                    <p>–ù–µ—Ç –ø–æ–≤—Ç–æ—Ä–æ–≤</p>
                    <span>–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–≤—Ç–æ—Ä—è—é—â—É—é—Å—è –∑–∞–¥–∞—á—É</span>
                </div>
            </div>
        </div>

        <button class="fab" id="btn-add">+</button>
    </div>

    <div class="modal" id="modal-add">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚úèÔ∏è –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h3>
                <button class="modal-close" data-modal="modal-add">&times;</button>
            </div>
            <form id="form-add-task">
                <div class="form-group">
                    <label>–ó–∞–¥–∞—á–∞</label>
                    <input type="text" id="task-text" placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?" maxlength="100" required>
                </div>
                <div class="form-group">
                    <label>–í—Ä–µ–º—è</label>
                    <input type="time" id="task-time">
                </div>
                <div class="form-group">
                    <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                    <div class="priority-select" id="priority-select">
                        <button type="button" class="priority-btn active" data-priority="0">‚ö™</button>
                        <button type="button" class="priority-btn" data-priority="1">üü¢</button>
                        <button type="button" class="priority-btn" data-priority="2">üü°</button>
                        <button type="button" class="priority-btn" data-priority="3">üî¥</button>
                    </div>
                </div>
                <button type="submit" class="btn-submit">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
            </form>
        </div>
    </div>

    <div class="modal" id="modal-add-calendar">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üìÜ –ó–∞–¥–∞—á–∞ –Ω–∞ –¥–∞—Ç—É</h3>
                <button class="modal-close" data-modal="modal-add-calendar">&times;</button>
            </div>
            <form id="form-add-calendar-task">
                <div class="form-group">
                    <label>–ó–∞–¥–∞—á–∞</label>
                    <input type="text" id="calendar-task-text" placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?" maxlength="100" required>
                </div>
                <div class="form-group">
                    <label>–í—Ä–µ–º—è</label>
                    <input type="time" id="calendar-task-time">
                </div>
                <div class="form-group">
                    <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                    <div class="priority-select" id="calendar-priority-select">
                        <button type="button" class="priority-btn active" data-priority="0">‚ö™</button>
                        <button type="button" class="priority-btn" data-priority="1">üü¢</button>
                        <button type="button" class="priority-btn" data-priority="2">üü°</button>
                        <button type="button" class="priority-btn" data-priority="3">üî¥</button>
                    </div>
                </div>
                <button type="submit" class="btn-submit">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
            </form>
        </div>
    </div>

    <div class="modal" id="modal-repeat">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>üîÑ –ü–æ–≤—Ç–æ—Ä—è—é—â–∞—è—Å—è –∑–∞–¥–∞—á–∞</h3>
                <button class="modal-close" data-modal="modal-repeat">&times;</button>
            </div>
            <form id="form-add-repeat">
                <div class="form-group">
                    <label>–ó–∞–¥–∞—á–∞</label>
                    <input type="text" id="repeat-text" placeholder="–ß—Ç–æ –ø–æ–≤—Ç–æ—Ä—è—Ç—å?" maxlength="100" required>
                </div>
                <div class="form-group">
                    <label>–í—Ä–µ–º—è</label>
                    <input type="time" id="repeat-time">
                </div>
                <div class="form-group">
                    <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                    <div class="priority-select" id="repeat-priority-select">
                        <button type="button" class="priority-btn active" data-priority="0">‚ö™</button>
                        <button type="button" class="priority-btn" data-priority="1">üü¢</button>
                        <button type="button" class="priority-btn" data-priority="2">üü°</button>
                        <button type="button" class="priority-btn" data-priority="3">üî¥</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>–ü–æ–≤—Ç–æ—Ä—è—Ç—å</label>
                    <div class="repeat-type-select" id="repeat-type-select">
                        <button type="button" class="repeat-type-btn active" data-type="daily">–ï–∂–µ–¥–Ω–µ–≤–Ω–æ</button>
                        <button type="button" class="repeat-type-btn" data-type="weekdays">–ë—É–¥–Ω–∏</button>
                        <button type="button" class="repeat-type-btn" data-type="weekends">–í—ã—Ö–æ–¥–Ω—ã–µ</button>
                        <button type="button" class="repeat-type-btn" data-type="weekly">–í—ã–±—Ä–∞—Ç—å</button>
                    </div>
                </div>
                <div class="form-group" id="days-select-group" style="display:none">
                    <label>–î–Ω–∏ –Ω–µ–¥–µ–ª–∏</label>
                    <div class="days-select" id="days-select">
                        <button type="button" class="day-btn" data-day="0">–ü–Ω</button>
                        <button type="button" class="day-btn" data-day="1">–í—Ç</button>
                        <button type="button" class="day-btn" data-day="2">–°—Ä</button>
                        <button type="button" class="day-btn" data-day="3">–ß—Ç</button>
                        <button type="button" class="day-btn" data-day="4">–ü—Ç</button>
                        <button type="button" class="day-btn" data-day="5">–°–±</button>
                        <button type="button" class="day-btn" data-day="6">–í—Å</button>
                    </div>
                </div>
                <button type="submit" class="btn-submit">üîÑ –°–æ–∑–¥–∞—Ç—å</button>
            </form>
        </div>
    </div>

    <div class="modal" id="modal-confirm">
        <div class="modal-content modal-small">
            <p id="confirm-text">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</p>
            <div class="modal-buttons">
                <button class="btn-cancel" data-modal="modal-confirm">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn-danger" id="btn-confirm-ok">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <div class="modal" id="modal-priority">
        <div class="modal-content modal-small">
            <h3>–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç</h3>
            <div class="priority-select-large" id="priority-change">
                <button class="priority-option" data-priority="0">‚ö™ –ë–µ–∑ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞</button>
                <button class="priority-option" data-priority="1">üü¢ –ù–∏–∑–∫–∏–π</button>
                <button class="priority-option" data-priority="2">üü° –°—Ä–µ–¥–Ω–∏–π</button>
                <button class="priority-option" data-priority="3">üî¥ –í—ã—Å–æ–∫–∏–π</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
